import{i as q,a as O,d as S,b,c as x,u as F,R as T,j as I}from"./client-8YSTZJQX.js";function w(t,n){const e=n;return q(e.url),Object.assign(async(a,s)=>e({method:t,payload:a||void 0,requestInit:s?.requestInit}),{url:n.url})}const f="server-fn-return-type",h="server-fn-payload-type";async function _(t,n,e){var a,s;const r=n[0];if(O(r)&&r.method){const o=r,l=o.payload instanceof FormData?"formData":o.payload instanceof Request?"request":"payload",R=new Headers({[h]:l,...l==="payload"?{"content-type":"application/json",accept:"application/json"}:{},...((a=o.requestInit)==null?void 0:a.headers)instanceof Headers?Object.fromEntries(o.requestInit.headers.entries()):((s=o.requestInit)==null?void 0:s.headers)||{}});if(o.method==="GET"){const c=o.payload!==void 0?S({payload:o.payload}).substring(1):"";c&&(t+=`&${c}`)}const g=new Request(t,{...o.requestInit,method:o.method,headers:R,...o.method==="POST"?{body:l==="formData"?o.payload:JSON.stringify(o.payload??null)}:{}}),$=await e(g),i=await v($);if(["rsc"].includes(i.headers.get(f)))return i.body;if(["json"].includes(i.headers.get(f))){const c=await i.text(),d=c?JSON.parse(c):void 0;if(b(d)||x(d))throw d;return d}return i}const m=new Request(t,{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json",[h]:"args"},body:JSON.stringify(n)}),p=await v(await e(m)),y=p.headers.get("content-type"),u=await p.text();return y&&y.includes("application/json")?u?JSON.parse(u):void 0:u}async function v(t){if(!t.ok){const n=await(async()=>{const e=t.headers.get("content-type");return e&&e.includes("application/json")?await t.json():await t.text()})();throw new Error([`Request failed with status ${t.status}`,`${JSON.stringify(n,null,2)}`].join(`

`))}return t}function N(t,n,e){return`${t}/_server/?_serverFnId=${encodeURI(n)}&_serverFnName=${encodeURI(e)}`}function j(t,n,e){const a=N(window.location.origin,n,e);return Object.assign((...r)=>_(a,r,fetch),{url:a})}const E=w("GET",j(H,"c_6708","$$function0")),P=w("POST",j(J,"c_6708","$$function1")),D=function(){const n=F(),e=T.useLoaderData();return I.jsxs("button",{onClick:()=>{P(1).then(()=>{n.invalidate()})},children:["Add 1 to ",e]})},U=async()=>await E();function H(){}async function J(t){}export{H as $$function0,J as $$function1,D as component,U as loader};
